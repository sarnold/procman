<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Procman Docs &mdash; procman 0.6.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=55b73dce" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=1c28bd9a"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="procman" href="api/modules.html" />
    <link rel="prev" title="Welcome to the procman documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            procman
          </a>
              <div class="version">
                0.6.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Procman Docs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#but-what-is-it-really">But what is it, really?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quick-start">Quick Start</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuration-options">Configuration options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration-settings">Configuration settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#install-with-pip">Install with pip</a></li>
<li class="toctree-l2"><a class="reference internal" href="#making-changes-contributing">Making Changes &amp; Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sbom-and-license-info">SBOM and license info</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#commands">Commands</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api/modules.html">procman</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev/generate-changelog.html">Changelog Generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev/pre-commit-config.html">Contents of the <code class="docutils literal notranslate"><span class="pre">.pre-commit-config.yaml</span></code> file</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev/pre-commit-usage.html">Using Pre-Commit</a></li>
<li class="toctree-l1"><a class="reference internal" href="CHANGELOG.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">procman</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Procman Docs</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/readme_include.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="procman-docs">
<h1>Procman Docs<a class="headerlink" href="#procman-docs" title="Link to this heading"></a></h1>
<p><strong>A lightweight process manager for user scripts</strong>.</p>
<p><a class="reference external" href="https://github.com/sarnold/procman/actions/workflows/ci.yml"><img alt="CI Status" src="https://github.com/sarnold/procman/actions/workflows/ci.yml/badge.svg" /></a> <a class="reference external" href="https://github.com/sarnold/procman/actions/workflows/wheels.yml"><img alt="Wheel Status" src="https://github.com/sarnold/procman/actions/workflows/wheels.yml/badge.svg" /></a> <a class="reference external" href="https://github.com/sarnold/procman/actions/workflows/bandit.yml"><img alt="Security check - Bandit" src="https://github.com/sarnold/procman/actions/workflows/bandit.yml/badge.svg" /></a> <a class="reference external" href="https://github.com/sarnold/procman/actions/workflows/release.yml"><img alt="Release Status" src="https://github.com/sarnold/procman/actions/workflows/release.yml/badge.svg" /></a></p>
<p><a class="reference external" href="https://github.com/pre-commit/pre-commit"><img alt="pre-commit" src="https://img.shields.io/badge/pre--commit-enabled-brightgreen?logo=pre-commit&amp;logoColor=white" /></a> <a class="reference external" href="https://github.com/sarnold/procman/actions/workflows/coverage.yml"><img alt="Test coverage" src="https://raw.githubusercontent.com/sarnold/procman/badges/master/test-coverage.svg" /></a> <a class="reference external" href="https://github.com/sarnold/procman/actions/workflows/pylint.yml"><img alt="Pylint Score" src="https://raw.githubusercontent.com/sarnold/procman/badges/master/pylint-score.svg" /></a></p>
<p><a class="reference external" href="https://github.com/sarnold/procman/releases"><img alt="GitHub tag" src="https://img.shields.io/github/v/tag/sarnold/procman?color=green&amp;include_prereleases&amp;label=latest%20release" /></a> <a class="reference external" href="https://github.com/sarnold/procman/blob/master/COPYING"><img alt="License" src="https://img.shields.io/badge/license-LGPL_2.1-blue" /></a> <a class="reference external" href="https://www.python.org/downloads/"><img alt="Python" src="https://img.shields.io/badge/python-3.8+-blue.svg" /></a></p>
<section id="but-what-is-it-really">
<h2>But what is it, really?<a class="headerlink" href="#but-what-is-it-really" title="Link to this heading"></a></h2>
<p>Procman is a tool for running multiple external processes and multiplexing
their output to the console. It also cleans up and stops the whole stack
if any one of the running processes stops or dies on its own.</p>
<p>Procman is loosely based on <a class="reference external" href="https://honcho.readthedocs.io/en/latest/index.html">Honcho</a> and uses Honcho’s process manager API.
Honcho (and <a class="reference external" href="https://ddollar.github.io/foreman/">Foreman</a>, and <a class="reference external" href="https://heroku.com/">Heroku</a>) parses a <a class="reference external" href="https://devcenter.heroku.com/articles/procfile">Procfile</a> to run an application
stack, usually with a specific <code class="docutils literal notranslate"><span class="pre">.env</span></code> file.  See the <a class="reference external" href="https://honcho.readthedocs.io/en/latest/index.html#what-are-procfiles">Introduction</a> in the
Honcho documentation for an overview with an example <code class="docutils literal notranslate"><span class="pre">Procfile</span></code>.</p>
<p>Procman provides an easy way to run such applications using a single <a class="reference external" href="https://en.wikipedia.org/wiki/YAML">YAML</a>
configuration file instead.  Procman includes a functional example config
with a small demo <a class="reference external" href="https://pypi.org/project/flask/">Flask</a> app that uses <a class="reference external" href="https://redis.io/docs/getting-started/">redis</a> to store a web counter (I
did say small/simple…).  The example app requires both <a class="reference external" href="https://pypi.org/project/redis/">redis-py</a> (which
in turn requires redis) and flask.  Note installing Procman with the
<code class="docutils literal notranslate"><span class="pre">[examples]</span></code> flag will install the python deps but you must install
redis using your own platform tools (eg, <code class="docutils literal notranslate"><span class="pre">apt</span></code> or <code class="docutils literal notranslate"><span class="pre">brew</span></code>).</p>
<p>Procman is tested on the 3 primary GH runner platforms, so as long as you
have a new-ish Python and a sane shell environment it should Just Work.</p>
<p>Note Procman only supports Python 3.8+.</p>
</section>
<section id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Link to this heading"></a></h2>
<p>Procman is mainly configuration-driven via YAML config files; the included
example can be displayed and copied via command-line options (see the <a class="reference internal" href="#usage">Usage</a>
section below).  To create your own configuration, you need at least one
script to run and a place to put it (see <a class="reference internal" href="#configuration-settings">Configuration settings</a> for more
details).</p>
<p>The current version supports minimal command options and there are no
required arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>(dev) user@host $ procman -h
usage: procman [-h] [--version] [-D] [-S] [-t] [-v] [-d] [-c RUNFOR] [FILE]

Process manager for user scripts

positional arguments:
  FILE                  path to user-defined yaml configuration (default:
                        None)

options:
  -h, --help            show this help message and exit
  --version             show program&#39;s version number and exit
  -D, --demo            run demo config (default: False)
  -S, --show            display user config (default: False)
  -t, --test            run sanity checks (default: False)
  -v, --verbose         display more processing info (default: False)
  -d, --dump-config     dump active yaml configuration to stdout (default:
                        False)
  -c, --countdown RUNFOR
                        runtime STOP timer in seconds - 0 means run forever
                        (default: 0)
</pre></div>
</div>
<section id="configuration-options">
<h3>Configuration options<a class="headerlink" href="#configuration-options" title="Link to this heading"></a></h3>
<p>There are several ways to apply your own configuration:</p>
<ul class="simple">
<li><p>use default filename pattern in project root, either <code class="docutils literal notranslate"><span class="pre">.procman</span></code> or
<code class="docutils literal notranslate"><span class="pre">procman</span></code> with a YAML extension of <code class="docutils literal notranslate"><span class="pre">.yml</span></code> or <code class="docutils literal notranslate"><span class="pre">.yaml</span></code></p></li>
<li><p>use any filename with YAML extension passed as positional argument, eg
something like <code class="docutils literal notranslate"><span class="pre">procman</span> <span class="pre">custom_config.yaml</span></code></p></li>
<li><p>set the <code class="docutils literal notranslate"><span class="pre">PROCMAN_CFG</span></code> environment variable to something like
<code class="docutils literal notranslate"><span class="pre">my/path/to/config.yaml</span></code></p></li>
</ul>
</section>
<section id="usage">
<h3>Usage<a class="headerlink" href="#usage" title="Link to this heading"></a></h3>
<p>To get started, clone this repository, then follow the virtual
environment install steps below. Procman uses <code class="docutils literal notranslate"><span class="pre">pathlib</span></code> to find user
paths, which you can view below after running <code class="docutils literal notranslate"><span class="pre">procman</span> <span class="pre">--show</span></code>.  Run
<code class="docutils literal notranslate"><span class="pre">procman</span> <span class="pre">--dump-config</span></code> to view the active YAML configuration.</p>
<p>To create your own default config file in the working directory, the local
copy must be named <code class="docutils literal notranslate"><span class="pre">.procman.yaml</span></code>.  To get a copy of the example
configuration file, do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd path/to/work/dir/
$ procman --dump-config &gt; .procman.yaml
$ $EDITOR .procman.yaml
$ procman --dump-config  # you should see your config settings
</pre></div>
</div>
<p>If needed, you can also create additional <code class="docutils literal notranslate"><span class="pre">procman</span></code> config files to
override your default project configuration. These alternate config files
can have arbitrary names (ending in ‘.yml’ or ‘.yaml’) but we recommend
using something like <code class="docutils literal notranslate"><span class="pre">procman-dev-myproject.yml</span></code> or similar. Since only
one configuration can be “active”, the non-default config file must either
be be passed as a positional argument <strong>or</strong> set via the environment
variable <code class="docutils literal notranslate"><span class="pre">PROCMAN_CFG</span></code>, eg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ procman --dump-config &gt; procman-develop.yml
$ $EDITOR procman-develop.yml  # set alternate scripts, other options
$ PROCMAN_CFG=&quot;procman-develop.yml&quot; procman --verbose
</pre></div>
</div>
<p>Finally, if your project needs to be installed, whether installed as an OS
package or into a virtual environment, you can use a configuration similar
to the following:</p>
<ul class="simple">
<li><p>set <code class="docutils literal notranslate"><span class="pre">proc_dir</span></code> to <code class="docutils literal notranslate"><span class="pre">bin</span></code> and leave <code class="docutils literal notranslate"><span class="pre">scripts_path</span></code> empty</p></li>
<li><p>set the env variable PROCMAN_PREFIX to the <code class="docutils literal notranslate"><span class="pre">bin</span></code> prefix in your workflow</p></li>
</ul>
<p>For examnple, use PROCMAN_PREFIX=/usr if your project is installed as an OS
package, or something like PROCMAN_PREFIX={env_dir} if your project is installed
into a tox environment.</p>
</section>
<section id="configuration-settings">
<h3>Configuration settings<a class="headerlink" href="#configuration-settings" title="Link to this heading"></a></h3>
<p>Using your preferred editor, edit/add process blocks to <code class="docutils literal notranslate"><span class="pre">scripts</span></code> as shown in the
example configuration (each “block” is a list element).</p>
<p>Note there can be only one default configuration in a given project tree
named <code class="docutils literal notranslate"><span class="pre">.procman.yaml</span></code>, however, you can override the default name via the
environment variable PROCMAN_CFG=path/to/procman_othername.yaml. Additional
config file guidance includes:</p>
<dl class="field-list simple">
<dt class="field-odd">scripts_path<span class="colon">:</span></dt>
<dd class="field-odd"><p>the path to the script containing directory, ie, <code class="docutils literal notranslate"><span class="pre">proc_dir</span></code>,
which can be relative, absolute, or <code class="docutils literal notranslate"><span class="pre">null</span></code>, depending on
where the script directory is</p>
</dd>
<dt class="field-even">scripts<span class="colon">:</span></dt>
<dd class="field-even"><p>at least one process block with <code class="docutils literal notranslate"><span class="pre">proc_enable:</span> <span class="pre">true</span></code> should be present
(under <em>scripts</em>)</p>
</dd>
<dt class="field-odd">proc_label<span class="colon">:</span></dt>
<dd class="field-odd"><p>is the process label for the script (see log display below)</p>
</dd>
<dt class="field-even">proc_name<span class="colon">:</span></dt>
<dd class="field-even"><p>the actual (file)name of the script</p>
</dd>
<dt class="field-odd">proc_dir<span class="colon">:</span></dt>
<dd class="field-odd"><p>the directory name where the script lives</p>
</dd>
<dt class="field-even">proc_runner<span class="colon">:</span></dt>
<dd class="field-even"><p>the name of the script interpreter, eg, <code class="docutils literal notranslate"><span class="pre">python</span></code> or <code class="docutils literal notranslate"><span class="pre">ruby</span></code>,
or <code class="docutils literal notranslate"><span class="pre">null</span></code> if calling an executable directly</p>
</dd>
<dt class="field-odd">proc_enable<span class="colon">:</span></dt>
<dd class="field-odd"><p>enable/disable this process block</p>
</dd>
<dt class="field-even">proc_opts<span class="colon">:</span></dt>
<dd class="field-even"><p>any required script args (default is an empty list)</p>
</dd>
</dl>
</section>
</section>
<section id="install-with-pip">
<h2>Install with pip<a class="headerlink" href="#install-with-pip" title="Link to this heading"></a></h2>
<p>This package is <em>not</em> yet published on PyPI, thus use one of the following
to install procman on any platform. Install from the main branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install https://github.com/sarnold/procman/archive/refs/heads/master.tar.gz
</pre></div>
</div>
<p>or use this command to install a specific release version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install https://github.com/sarnold/procman/releases/download/0.1.0/procman-0.1.0.tar.gz
</pre></div>
</div>
<p>The full package provides the <code class="docutils literal notranslate"><span class="pre">procman</span></code> executable as well as a working
demo with a reference configuration with defaults for all values.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To run the example application, you need to first install
<code class="docutils literal notranslate"><span class="pre">redis</span></code> via your system package manager.</p>
</div>
<p>If you’d rather work from the source repository, it supports the common
idiom to install it on your system in a virtual env after cloning:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python -m venv env
$ source env/bin/activate
(env) $ pip install .[examples]
(env) $ procman --version
procman 0.1.1.dev16+g3b96476.d20230922
(env) $ deactivate
</pre></div>
</div>
<p>The alternative to python venv is the <a class="reference external" href="https://github.com/tox-dev/tox">Tox</a> test driver.  If you have it
installed already, clone this repository and try the following commands
from the procman source directory.</p>
<p>To install the package with examples and run the checks:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ tox -e py
</pre></div>
</div>
<p>To run pylint:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ tox -e lint
</pre></div>
</div>
<p>To install in developer mode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ tox -e dev
</pre></div>
</div>
<p>To actually run the active configuration file for 30 seconds, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ tox -e serv -- 30
</pre></div>
</div>
<p>Running the following command will install the package and then run the
(built-in) example config via the <code class="docutils literal notranslate"><span class="pre">--demo</span></code> option for 10 seconds using
the tox serv environment; note you can override the <code class="docutils literal notranslate"><span class="pre">--demo</span></code> option by
providing the timeout value as shown above:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ tox -e serv
serv: install_deps&gt; python -I -m pip install &#39;pip&gt;=21.1&#39; &#39;setuptools_scm[toml]&#39; &#39;.[examples]&#39;
serv: commands[0]&gt; procman --countdown 10 --demo
14:02:15 system | redis started (pid=15356)
14:02:15 system | web started (pid=15355)
14:02:15 redis  | Using socket runtime dir: /tmp/redis-ipc
14:02:15 redis  | 15361:C 22 Sep 2023 14:02:15.793 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
14:02:15 redis  | 15361:C 22 Sep 2023 14:02:15.793 # Redis version=7.0.11, bits=64, commit=00000000, modified=0, pid=15361, just started
14:02:15 redis  | 15361:C 22 Sep 2023 14:02:15.793 # Configuration loaded
14:02:15 redis  | 15361:M 22 Sep 2023 14:02:15.794 # You requested maxclients of 10000 requiring at least 10032 max file descriptors.
14:02:15 redis  | 15361:M 22 Sep 2023 14:02:15.794 # Server can&#39;t set maximum open files to 10032 because of OS error: Operation not permitted.
14:02:15 redis  | 15361:M 22 Sep 2023 14:02:15.794 # Current maximum open files is 4096. maxclients has been reduced to 4064 to compensate for low ulimit. If you need higher maxclients increase &#39;ulimit -n&#39;.
14:02:15 redis  | 15361:M 22 Sep 2023 14:02:15.794 * monotonic clock: POSIX clock_gettime
14:02:15 redis  | 15361:M 22 Sep 2023 14:02:15.795 * Running mode=standalone, port=0.
14:02:15 redis  | 15361:M 22 Sep 2023 14:02:15.795 # Server initialized
14:02:15 redis  | 15361:M 22 Sep 2023 14:02:15.795 # WARNING Memory overcommit must be enabled! Without it, a background save or replication may fail under low memory condition. Being disabled, it can can also cause failures without low memory condition, see https://github.com/jemalloc/jemalloc/issues/1328. To fix this issue add &#39;vm.overcommit_memory = 1&#39; to /etc/sysctl.conf and then reboot or run the command &#39;sysctl vm.overcommit_memory=1&#39; for this to take effect.
14:02:15 redis  | 15361:M 22 Sep 2023 14:02:15.796 * The server is now ready to accept connections at /tmp/redis-ipc/socket
14:02:15 web    |  * Serving Flask app &#39;app&#39;
14:02:15 web    |  * Debug mode: on
14:02:15 web    | WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
14:02:15 web    |  * Running on http://localhost:8000
14:02:15 web    | Press CTRL+C to quit
14:02:15 web    |  * Restarting with stat
14:02:16 web    |  * Debugger is active!
14:02:16 web    |  * Debugger PIN: 112-588-591
14:02:25 system | sending SIGTERM to web (pid 15355)
14:02:25 system | sending SIGTERM to redis (pid 15356)
14:02:25 redis  | 15361:signal-handler (1695416545) Received SIGTERM scheduling shutdown...
14:02:25 system | web stopped (rc=0)
14:02:25 redis  | 15361:M 22 Sep 2023 14:02:25.853 # User requested shutdown...
14:02:25 redis  | 15361:M 22 Sep 2023 14:02:25.853 * Saving the final RDB snapshot before exiting.
14:02:25 redis  | 15361:M 22 Sep 2023 14:02:25.859 * DB saved on disk
14:02:25 redis  | 15361:M 22 Sep 2023 14:02:25.859 * Removing the pid file.
14:02:25 redis  | 15361:M 22 Sep 2023 14:02:25.859 * Removing the unix socket file.
14:02:25 redis  | 15361:M 22 Sep 2023 14:02:25.859 # Redis is now ready to exit, bye bye...
14:02:25 system | redis stopped (rc=-15)
  serv: OK (16.17=setup[5.88]+cmd[10.29] seconds)
  congratulations :) (16.22 seconds)
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>After running the serv command, use the environment created by
Tox just like any other Python virtual environment. As shown,
the dev install mode of Pip allows you to edit the code and run
it again while inside the virtual environment. By default Tox
environments are created under <code class="docutils literal notranslate"><span class="pre">.tox/</span></code> and named after the
env argument (eg, dev).</p>
</div>
<p>Full list of additional <code class="docutils literal notranslate"><span class="pre">tox</span></code> commands:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">dev</span></code> pip “developer” install</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">serv</span></code> will run the active configuration then stop (default: 10 sec)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">style</span></code> will run flake8 style checks</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">lint</span></code> will run pylint (somewhat less permissive than PEP8/flake8 checks)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">mypy</span></code> will run mypy import and type checking</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">isort</span></code> will run isort import checks</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">clean</span></code> will remove all generated/temporary files</p></li>
</ul>
<p>To build/lint the html docs, use the following tox commands:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">docs</span></code> build the documentation using sphinx and the api-doc plugin</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">docs-lint</span></code> build the docs and run the sphinx link checking</p></li>
</ul>
<p>To install the latest release, eg with your own <code class="docutils literal notranslate"><span class="pre">tox.ini</span></code> file in
another project, use something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ pip install -U https://github.com/sarnold/procman/releases/download/0.1.0/procman-0.4.1-py3-none-any.whl
</pre></div>
</div>
</section>
<section id="making-changes-contributing">
<h2>Making Changes &amp; Contributing<a class="headerlink" href="#making-changes-contributing" title="Link to this heading"></a></h2>
<p>We use the <a class="reference external" href="https://github.com/sarnold/gitchangelog-action">gitchangelog</a> action to generate our changelog and GH Release
page, as well as the gitchangelog message format to help it categorize/filter
commits for a tidier changelog. Please use the appropriate ACTION modifiers
in any Pull Requests.</p>
<p>This repo is also <a class="reference external" href="https://pre-commit.com/index.html">pre-commit</a> enabled for various linting and format
checks.  The checks run automatically on commit and will fail the
commit (if not clean) with some checks performing simple file corrections.</p>
<p>If other checks fail on commit, the failure display should explain the error
types and line numbers. Note you must fix any fatal errors for the
commit to succeed; some errors should be fixed automatically (use
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> and <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code> to review any changes).</p>
<p>See the following pages for more information on gitchangelog and pre-commit.</p>
<p>You will need to install pre-commit before contributing any changes;
installing it using your system’s package manager is recommended,
otherwise install with pip into your usual virtual environment using
something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo emerge pre-commit  --or--
$ pip install pre-commit
</pre></div>
</div>
<p>then install it into the repo you just cloned:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git clone https://github.com/sarnold/procman
$ cd procman/
$ pre-commit install
</pre></div>
</div>
<p>It’s usually a good idea to update the hooks to the latest version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pre</span><span class="o">-</span><span class="n">commit</span> <span class="n">autoupdate</span>
</pre></div>
</div>
</section>
<section id="sbom-and-license-info">
<h2>SBOM and license info<a class="headerlink" href="#sbom-and-license-info" title="Link to this heading"></a></h2>
<p>This project is now compliant the REUSE Specification Version 3.3, so the
corresponding license information for all files can be found in the <code class="docutils literal notranslate"><span class="pre">REUSE.toml</span></code>
configuration file with license text(s) in the <code class="docutils literal notranslate"><span class="pre">LICENSES/</span></code> folder.</p>
<p>Related metadata can be (re)generated with the following tools and command
examples.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/fsfe/reuse-tool">reuse-tool</a> - <a class="reference external" href="https://reuse.software/spec-3.3/">REUSE</a> compliance linting and sdist (source files) SBOM generation</p></li>
<li><p><a class="reference external" href="https://github.com/anthonyharrison/sbom4python">sbom4python</a> - generate SBOM with full dependency chain</p></li>
</ul>
<section id="commands">
<h3>Commands<a class="headerlink" href="#commands" title="Link to this heading"></a></h3>
<p>Use tox to create the environment and run the lint command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ tox -e reuse                      # --or--
$ tox -e reuse -- spdx &gt; sbom.txt   # generate sdist files sbom
</pre></div>
</div>
<p>Note you can pass any of the other reuse commands after the <code class="docutils literal notranslate"><span class="pre">--</span></code> above.</p>
<p>Use the above environment to generate the full SBOM in text format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ source .tox/reuse/bin/activate
$ sbom4python --system --use-pip -o &lt;file_name&gt;.txt
</pre></div>
</div>
<p>Be patient; the last command above may take several minutes. See the
doc links above for more detailed information on the tools and
specifications.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to the procman documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="api/modules.html" class="btn btn-neutral float-right" title="procman" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 - 2025 Stephen Arnold.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>